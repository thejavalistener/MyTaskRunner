{
  "vars": {
    "drive": "D:",
    "baseDir": "${var:drive}/temp/DemoScript",
    "downloadDir": "${var:baseDir}/download",
    "workDir": "${var:baseDir}/work",
    "backupDir": "${var:baseDir}/backup",

    "userHome": "${sys:prop:user.home}",
    "pathEnv": "${sys:env:PATH}",

    "stampNow": "${time:now:yyyyMMdd-HHmmss}",
    "stampToday": "${time:today:yyyyMMdd}",
    "stampTomorrow": "${time:tomorrow:yyyyMMdd}",
    "ms": "${time:epochMillis}",

    "downloadFile": "${var:downloadDir}/original_${var:stampNow}.zip",
    "unzippedDir": "${var:workDir}/unzipped_${var:stampNow}",
    "zippedDirFile": "${var:backupDir}/backup_${var:stampNow}.zip",

    "copyOfZip": "${var:backupDir}/copy_${var:ms}.zip",
    "logFile": "${var:baseDir}/log_${var:stampToday}.txt"
  },

  "steps": [
    { "action": "MkDir", "path": "${var:get:baseDir}" },
    { "action": "MkDir", "path": "${var:get:downloadDir}" },
    { "action": "MkDir", "path": "${var:get:workDir}" },
    { "action": "MkDir", "path": "${var:get:backupDir}" },

    {
      "action": "Download",
      "url": "https://github.com/githubtraining/hellogitworld/archive/refs/heads/master.zip",
      "to": "${var:downloadFile}",
      "showProgress": true,
      "stopScriptOnError": true
    },

    {
      "action": "Unzip",
      "from": "${var:downloadFile}",
      "to": "${var:unzippedDir}",
      "showProgress": true,
      "stopScriptOnError": true
    },

    {
      "action": "Zip",
      "from": "${var:unzippedDir}",
      "to": "${var:zippedDirFile}",
      "showProgress": true,
      "stopScriptOnError": true
    },

    {
      "action": "Copy",
      "from": "${var:zippedDirFile}",
      "to": "${var:copyOfZip}",
      "showProgress": true,
      "stopScriptOnError": true
    },

    {
      "action": "Remove",
      "path": "${var:baseDir}/noExiste_${var:ms}",
      "stopScriptOnError": false
    },

    {
      "action": "Exec",
      "command": "cmd /c echo userHome=${var:userHome} && echo today=${var:stampToday} && echo tomorrow=${var:stampTomorrow} && echo now=${var:stampNow} && echo path=${var:pathEnv} > \"${var:logFile}\""
    }
  ]
}